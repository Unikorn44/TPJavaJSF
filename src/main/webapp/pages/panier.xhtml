<ui:composition
	template="../templates/principal.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
   	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
>
                       
    <ui:define name="titre">
    	<h:outputText value="Voici votre panier :" />
    </ui:define>
              
	<ui:define name="main">   
	    <h:outputText value="Voici votre panier :" />	            
		
		<h:form>
		
			<ul>
				 <ui:repeat var="commande" value="#{panierBean.panier}">
					<li>
						
						<h:outputText value="#{commande.pianoBean.nom} --  
											Quantité : #{commande.quantite} -- 
											Prix : #{commande.pianoBean.prix} € -- 
											Total : #{panierBean.getPrixCommande(commande)} €  " />
					
						<h:commandButton value="Retirer" action="#{panierBean.retirerCommande(commande.pianoBean)}" />
					</li>
		    	</ui:repeat>
			</ul>
			<h:outputText value="Prix total de la commande : #{panierBean.prixTotalPanier()} €  " />
			<br/><br/>
			<h:commandButton value="Supprimer la commande" action="#{panierBean.supprimerCommande}" />
			
		</h:form>
		
	</ui:define>
	              
</ui:composition>